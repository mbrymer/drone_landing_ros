# Relative Pose EKF Parameters
# Rates
update_freq: 100.0 # Hz
measurement_freq: 100.0 # Hz

# Topics
IMU_topic: "/mavros/imu/data_raw"

# Noise Values
Q_a_diag: [0.00025,0.00025,0.00025] # Allan deviation for IMU noise with no motors running
Q_w_diag: [0.00045,0.00045,0.00045]
Q_ab_diag: [7.0E-6,7.0E-6,7.0E-6]
Q_wb_diag: [4.4E-5,4.4E-5,4.4E-5]

R_r_diag: [0.0015,0.0015,0.006] # Small tag at ~1.5 m
R_ang_diag: [0.0015,0.0015,0.04] #

# Camera Parameters
# Intrinsics ref: camera_calibration_2022-07-22-11-23-46_640x480_mono-camchain.yaml
camera_K: [437.3412312213781,0,328.5442810236917,0,438.0867474272743,239.2536470406629,0,0,1]
camera_width: 640.0
camera_height: 480.0
tag_width: 0 # 0.199375
tag_in_view_margin: 0.02

n_tags: 9
tag_widths: [0.06985,0.1397,0.1397,0.1397,0.1397,0.2794,0.2794,0.2794,0.2794]
tag_positions: [0,0,0,
                0,0.1571625,0,
                0.1571625,0,0,
                0,-0.1571625,0,
                -0.1571625,0,0
                -0.244475, 0.244475,0
                0.244475, 0.244475,0
                0.244475, -0.244475,0
                -0.244475, -0.244475,0]

# Extrinsics ref:IMU_camera_cal_2022-07-16-22-48-49_640x480_clip-camchain-imucam.yaml
r_v_cv: [0.06036412,-0.00145196,-0.04439579]
q_vc: [-0.7035177, 0.7106742, 0.0014521, -0.0017207]

# Flags/Options
limit_measurement_freq: False
corner_margin_enbl: False
est_bias: True